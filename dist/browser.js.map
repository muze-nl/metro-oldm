{
  "version": 3,
  "sources": ["../node_modules/@muze-nl/oldm/src/oldm.mjs", "../src/oldmmw.mjs", "../src/index.mjs"],
  "sourcesContent": ["export default function oldm(options) {\n\treturn new Context(options)\n}\n\nexport const rdfType = 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'\n\nexport const prefixes = {\n\trdf: 'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n\tsolid: 'http://www.w3.org/ns/solid/terms#',\n\tschema: 'http://schema.org/',\n    vcard: 'http://www.w3.org/2006/vcard/ns#'\n}\n\nexport class Context {\n\tconstructor(options) {\n\t\tthis.prefixes = {...prefixes, ...options?.prefixes}\n\t\tif (!this.prefixes['xsd']) {\n\t\t\tthis.prefixes['xsd'] = 'http://www.w3.org/2001/XMLSchema#'\n\t\t}\n\t\tthis.parser = options?.parser\n\t\tthis.writer = options?.writer\n\t\tthis.sources = Object.create(null)\n//\t\tthis.subjects = Object.create(null) // or use a proxy here? should contain all subjects from all sources, merged, readonly\n\t\tthis.separator = options?.separator ?? '$'\n\t}\n\n\tparse(input, url, type) {\n\t\tconst {quads, prefixes} = this.parser(input, url, type)\n\t\tif (prefixes) {\n\t\t\tfor (let prefix in prefixes) {\n\t\t\t\tlet prefixURL = prefixes[prefix]\n\t\t\t\tif (prefixURL.match(/^http(s?):\\/\\/$/i)) {\n\t\t\t\t\tprefixURL += url.substring(prefixURL.length)\n\t\t\t\t} else try {\n\t\t\t\t\tprefixURL = new URL(prefixes[prefix], url).href\n\t\t\t\t} catch(err) {\n\t\t\t\t\tconsole.error('Could not parse prefix', prefixes[prefix], err.message)\n\t\t\t\t}\n\n\t\t\t\tif (!this.prefixes[prefix]) {\n\t\t\t\t\tthis.prefixes[prefix] = prefixURL\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.sources[url] = new Graph(quads, url, type, prefixes, this)\n\t\treturn this.sources[url]\n\t}\n\n\tsetType(literal, shortType) {\n\t\tif (!shortType) {\n\t\t\treturn literal\n\t\t}\n\t\tif (typeof literal == 'string') {\n\t\t\tliteral = new String(literal)\n\t\t} else if (typeof result == 'number') {\n\t\t\tliteral = new Number(literal)\n\t\t}\n\t\tif (typeof literal !== 'object') {\n\t\t\tthrow new Error('cannot set type on ',literal,shortType)\n\t\t}\n\t\tliteral.type = shortType\n\t\treturn literal\n\t}\n\n\tgetType(literal) {\n\t\tif (literal && typeof literal == 'object') {\n\t\t\treturn literal.type\n\t\t}\n\t\treturn null\n\t}\n}\n\nexport class Graph {\n\t#blankNodes = Object.create(null)\n\n\tconstructor(quads, url, mimetype, prefixes, context) {\n\t\tthis.mimetype = mimetype\n\t\tthis.url      = url\n\t\tthis.prefixes = prefixes\n\t\tthis.context  = context\n\t\tthis.subjects = Object.create(null)\n\t\tfor (let quad of quads) {\n\t\t\tlet subject\n\t\t\tif (quad.subject.termType=='BlankNode') {\n\t\t\t\tlet shortPred = this.shortURI(quad.predicate.id,':')\n\t\t\t\tlet shortObj\n\t\t\t\tswitch(shortPred) {\n\t\t\t\t\tcase 'rdf:first':\n\t\t\t\t\t\tsubject = this.addCollection(quad.subject.id)\n\t\t\t\t\t\tshortObj = this.shortURI(quad.object.id, ':')\n\t\t\t\t\t\tif (shortObj!='rdf:nil') {\n\t\t\t\t\t\t\tconst value = this.getValue(quad.object)\n\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\tsubject.push(value)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\tcontinue\n\t\t\t\t\tcase 'rdf:rest':\n\t\t\t\t\t\tthis.#blankNodes[quad.object.id] = this.#blankNodes[quad.subject.id]\n\t\t\t\t\tcontinue\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tsubject = this.addBlankNode(quad.subject.id)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsubject = this.addNamedNode(quad.subject.id)\n\t\t\t}\n\t\t\tsubject.addPredicate(quad.predicate.id, quad.object)\n\t\t}\n\t\tif (this.subjects[url]) {\n\t\t\tthis.primary = this.subjects[url]\n\t\t} else {\n\t\t\tthis.primary = null\n\t\t}\n\t\tObject.defineProperty(this, 'data', {\n\t\t\tget() {\n\t\t\t\treturn Object.values(this.subjects)\n\t\t\t}\n\t\t})\n\t}\n\n\taddNamedNode(uri) {\n\t\t// make sure any relative uri subject ids are fully qualified\n\t\tlet absURI = new URL(uri, this.url).href\n\t\tif (!this.subjects[absURI]) {\n\t\t\tthis.subjects[absURI] = new NamedNode(absURI, this)\n\t\t}\n\t\treturn this.subjects[absURI]\n\t}\n\n\taddBlankNode(id) {\n\t\tif (!this.#blankNodes[id]) {\n\t\t\tthis.#blankNodes[id] = new BlankNode(this)\n\t\t}\n\t\treturn this.#blankNodes[id]\n\t}\n\n\taddCollection(id) {\n\t\tif (!this.#blankNodes[id]) {\n\t\t\tthis.#blankNodes[id] = new Collection(this)\n\t\t}\n\t\treturn this.#blankNodes[id]\n\t}\n\n\twrite() {\n\t\treturn this.context.writer(this)\n\t}\n\n\tget(shortID) {\n\t\treturn this.subjects[this.fullURI(shortID)]\n\t}\n\n\tfullURI(shortURI, separator=null) {\n\t\tif (!separator) {\n\t\t\tseparator = this.context.separator\n\t\t}\n\t\tconst [prefix, path] = shortURI.split(separator)\n\t\tif (path) {\n\t\t\treturn this.prefixes[prefix]+path \n\t\t}\n\t\treturn shortURI\n\t}\n\n\tshortURI(fullURI, separator=null) {\n\t\tif (!separator) {\n\t\t\tseparator = this.context.separator\n\t\t}\n\t\tfor (let prefix in this.context.prefixes) {\n\t\t\tif (fullURI.startsWith(this.context.prefixes[prefix])) {\n\t\t\t\treturn prefix + separator + fullURI.substring(this.context.prefixes[prefix].length)\n\t\t\t}\n\t\t}\n\t\tif (this.url && fullURI.startsWith(this.url)) {\n\t\t\treturn fullURI.substring(this.url.length)\n\t\t}\n\t\treturn fullURI\n\t}\n\n\t/**\n\t * This sets the type of a literal, usually one of the xsd types\n\t */\n\tsetType(literal, type) {\n\t\tconst shortType = this.shortURI(type)\n\t\treturn this.context.setType(literal, shortType)\n\t}\n\n\t/**\n\t * This returns the type of a literal, or null\n\t */\n\tgetType(literal) {\n\t\treturn this.context.getType(literal)\n\t}\n\n\tsetLanguage(literal, language) {\n\t\tif (typeof literal == 'string') {\n\t\t\tliteral = new String(literal)\n\t\t} else if (typeof result == 'number') {\n\t\t\tliteral = new Number(literal)\n\t\t}\n\t\tif (typeof literal !== 'object') {\n\t\t\tthrow new Error('cannot set language on ',literal)\n\t\t}\n\t\tliteral.language = language\n\t\treturn literal\n\t}\n\n\tgetValue(object) {\n\t\tlet result\n\t\tif (object.termType=='Literal') {\n\t\t\tresult = object.value\n\t\t\tlet datatype = object.datatype?.id\n\t\t\tif (datatype) {\n\t\t\t\tresult = this.setType(result, datatype)\n\t\t\t}\n\t\t\tlet language = object.language\n\t\t\tif (language) {\n\t\t\t\tresult = this.setLanguage(result, language)\n\t\t\t}\n\t\t} else if (object.termType=='BlankNode') {\n\t\t\tresult = this.addBlankNode(object.id)\n\t\t} else {\n\t\t\tresult = this.addNamedNode(object.id)\n\t\t}\n\t\treturn result\n\t}\n\n\n}\n\nexport class BlankNode {\n\n\tconstructor(graph) {\n\t\tObject.defineProperty(this, 'graph', {\n\t\t\tvalue: graph,\n\t\t\twritable: false,\n\t\t\tenumerable: false\n\t\t})\n\t}\n\n\taddPredicate(predicate, object) {\n\t\tif (predicate.id) {\n\t\t\tpredicate = predicate.id\n\t\t}\n\t\tif (predicate==rdfType) {\n\t\t\tlet type = this.graph.shortURI(object.id)\n\t\t\tthis.addType(type)\n\t\t} else {\n\t\t\tconst value = this.graph.getValue(object)\n\t\t\tpredicate = this.graph.shortURI(predicate)\n\t\t\tif (!this[predicate]) {\n\t\t\t\tthis[predicate] = value\n\t\t\t} else if (Array.isArray(this[predicate])) {\n\t\t\t\tthis[predicate].push(value)\n\t\t\t} else {\n\t\t\t\tthis[predicate] = [ this[predicate], value]\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Adds a rdfType value, stored in this.a\n\t * Subjects can have more than one type (or class), unlike literals\n\t * The type value can be any URI, xsdTypes are unexpected here\n\t */\n\taddType(type) {\n\t\tif (!this.a) {\n\t\t\tthis.a = type\n\t\t} else {\n\t\t\tif (!Array.isArray(this.a)) {\n\t\t\t\tthis.a = [ this.a ]\n\t\t\t}\n\t\t\tthis.a.push(type)\n\t\t}\n\t}\n}\n\nexport class NamedNode extends BlankNode {\n\tconstructor(id, graph) {\n\t\tsuper(graph)\n\t\tObject.defineProperty(this, 'id', {\n\t\t\tvalue: id,\n\t\t\twritable: false,\n\t\t\tenumerable: true\n\t\t})\n\t}\n}\n\nexport class Collection extends Array {\n\n\tconstructor(id, graph) {\n\t\tsuper()\n\t\tObject.defineProperty(this, 'graph', {\n\t\t\tvalue: graph,\n\t\t\twritable: false,\n\t\t\tenumerable: false\n\t\t})\n\t}\n\n}", "import oldm from '@muze-nl/oldm'\n\nexport default function oldmmw(options)\n{\n\toptions = Object.assign({\n\t\tcontentType: 'text/turtle',\n\t\tprefixes: {\n\t\t    'ldp':    'http://www.w3.org/ns/ldp#',\n\t\t    'rdf':    'http://www.w3.org/1999/02/22-rdf-syntax-ns#',\n\t\t    'dct':    'http://purl.org/dc/terms/',\n\t\t    'stat':   'http://www.w3.org/ns/posix/stat#',\n\t\t    'turtle': 'http://www.w3.org/ns/iana/media-types/text/turtle#',\n\t\t    'schem':  'https://schema.org/',\n\t\t    'solid':  'http://www.w3.org/ns/solid/terms#',\n\t\t    'acl':    'http://www.w3.org/ns/auth/acl#',\n\t\t    'pims':   'http://www.w3.org/ns/pim/space#',\n\t\t    'vcard':  'http://www.w3.org/2006/vcard/ns#',\n\t\t    'foaf':   'http://xmlns.com/foaf/0.1/'\n\t\t},\n\t\tparser: oldm.n3Parser,\n\t\twriter: oldm.n3Writer\n\t}, options)\n\n\tif (!options.prefixes['ldp']) {\n\t\toptions.prefixes['ldp'] = 'http://www.w3.org/ns/ldp#'\n\t}\n\n\tconst context = oldm(options)\n\n\treturn async function oldmmw(req, next) {\n\t\tif (!req.headers.get('Accept')) {\n            req = req.with({\n                headers: {\n                    'Accept': options.accept ?? options.contentType\n                }\n            })\n        }\n        if (req.method!=='GET' && req.method!=='HEAD') {\n            //https://developer.mozilla.org/en-US/docs/Web/API/Request/body\n            if (req.data && typeof req.data=='object' && !(req.data instanceof ReadableStream)) {\n                const contentType = req.headers.get('Content-Type')\n                if (!contentType || isPlainText(contentType)) {\n                    req = req.with({\n                        headers: {\n                            'Content-Type': options.contentType,\n                        }\n                    })\n                }\n                if (isLinkedData(req.headers.get('Content-Type'))) {\n                    req = req.with({\n                        body: await context.writer(req.data)\n                    })\n                }\n            }\n        }\n        let res = await next(req)        \n\t}\n}", "import oldmmw from './oldmmw.mjs'\n\nglobalThis.oldmmw = oldmmw\n\nexport default oldmmw"],
  "mappings": "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",
  "names": ["prefixes", "result", "oldmmw"]
}
